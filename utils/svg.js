export function renderStreakSVG({ 
  currentStreak, currentStreakStart, currentStreakEnd,
  longestStreak, longestStreakStart, longestStreakEnd,
  totalContributions
}) {
  // Format dates if they exist
  const formatDate = (dateStr) => {
    if (!dateStr) return 'N/A';
    const date = new Date(dateStr);
    return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
  };

  const currentStreakDates = currentStreak > 0 
    ? `${formatDate(currentStreakStart)} → ${formatDate(currentStreakEnd)}`
    : 'No current streak';

  const longestStreakDates = longestStreak > 0
    ? `${formatDate(longestStreakStart)} → ${formatDate(longestStreakEnd)}`
    : 'No streak data';

  return `
<svg width="495" height="195" xmlns="http://www.w3.org/2000/svg">
  <style>
    .bg { fill: #1E1E1E; }
    .card { stroke: #3E3E42; fill: #252526; stroke-width: 1; rx: 6; }
    .label { font: bold 14px 'Consolas', 'Courier New', monospace; fill: #9CDCFE; }
    .value { font: bold 26px 'Consolas', 'Courier New', monospace; fill: #D4D4D4; }
    .dates { font: 12px 'Consolas', 'Courier New', monospace; fill: #CE9178; }
    .icon { fill: #DCDCAA; }
    .divider { stroke: #3E3E42; stroke-width: 1; stroke-dasharray: 4,2; }
  </style>
  
  <!-- Background and card -->
  <rect width="100%" height="100%" class="bg" rx="10" ry="10"/>
  <rect x="10" y="10" width="475" height="175" class="card"/>
  
  <!-- Vertical dividers -->
  <line x1="165" y1="30" x2="165" y2="170" class="divider" />
  <line x1="330" y1="30" x2="330" y2="170" class="divider" />
  
  <!-- Column 1: Current Streak - Fire icon (famous icon for streaks) -->
  <path class="icon" transform="translate(58, 45) scale(0.05)" d="M323.56 51.2c-20.8 19.3-39.58 39.59-56.22 59.97C240.08 149.77 224 189.19 224 220.8c0 30.84 21.3 59.41 27.06 67.42 5.27 7.4 14.54 11.24 23.74 8.26 16.33-5.29 15.8-34.52 15.8-39.86 0-18.73 9.35-35.42 25.26-45.64 37.8-24.25 75.03 12.05 63.6 53.79-4.4 16.16-14.47 25.14-30.22 28.27-18.8 3.73-47.27-1.28-57.42-22.92-8.34-17.8-7.1-39.69-7.1-48.14 0-20.33-2.85-32.17-12.3-48.8l-1.92-3.39c-3.64-6.36-7.27-12.27-10.8-17.86-6.9-10.9-13.9-22.07-17.56-31.82-3.8-10.2 3.3-32.95 3.3-32.95 10.76-27.37 28.5-60.77 60.41-90.13 7.3-6.7 21.16-5.39 23.42 14.26 2.23 19.33 5.3 43.33 15.85 65.33 11.52 23.92 25.5 17.33 25.5 17.33 16.98-5.29 24.66-17.01 30.7-33.41 6.17-16.73 4.65-35.14 2.27-51.3-2.87-19.42-22.68-29.9-36.5-14.72-18.33 20.1-20.93 45.4-20.93 45.4s-7.3-8.33-30.52-8.33c-26.51 0-30.21 12.85-35.53 22.17-10.5 18.35-14.5 31.34-22.01 50.99 20.76-28.01 48.26-66.48 48.26-66.48s3.22-5.14 6.96-5.14c5.85 0 10.6 4.75 10.6 10.61 0 1.69-1.31 4.28-1.31 4.28-3.7 7.74-13.84 22.9-17.51 27.48-12.93 16.1-24.83 32.21-33.52 49.25-11.33 22.23-13.2 43.86-9.58 66.99 1.61 10.25 4.64 20.36 10.64 28.7 10.86 15.1 27.64 24.97 45.06 28.63C284.06 311.5 318 295.9 335.54 264.2c16.68-30.07 19.52-64.3 3.07-95.81-8.77-16.8-23.7-29.19-42.34-35.33-5.52-1.8-11.7-2.88-17.73-3.29-6-0.4-13.38.08-20.81 1.45 0 0-14.43 3.32-14.43-5.53 0-13.75 22.44-13.3 22.44-13.3 40.8 0 73.68 32.88 73.68 73.68 0 40.8-32.88 73.67-73.68 73.67-40.8 0-73.67-32.88-73.67-73.67 0-32.22 13.44-60.12 24.42-79.7 10.11-19.23 22.35-39.58 43.9-56.42 21.12-16.77 45.24-11.46 52.66-5.31 19.32 16 18 38.33 16.95 48.4-1.8 17.32-9.63 34-13.54 41.38 0 0 18.89-24.4 34.14-43.74 5.5-7.86 9.37-13.84 11.3-19.59 1.5-4.66 2.96-10.36 2.93-17.9-.07-10.33-3.36-21.15-10.52-31.32-9.2-13.2-25.95-21.34-42.76-20.02-9.46.74-18.99 3.34-27.68 7.94-38.82 20.62-63.4 50-81.33 77.6-18.64 28.23-30.05 63.38-30.05 98.15 0 61.8 50.2 112 112 112 61.8 0 112-50.2 112-112 0-25.7-8.34-47.5-16.93-65.67-12.53-26.69-28.8-47.12-34.73-53.87 0 0-4.4-5.01-2.4-9.94 2.33-5.93 10.33-6.84 10.33-6.84 27.94-5.03 60.2 13.8 81.6 41.67 32.47 42.32 32.08 95.46 4.1 137.05-35.3 52.35-96.27 81.7-161.01 81.7-109.48 0-193.12-82.13-198.06-190.55-3.97-92.97 53.84-149.95 72.02-173.73 32.29-34 67.43-53.64 106.69-66.37 9.77-3.38 20.96-7.16 33.43-8.93 9.48-1.35 21.14-2.61 22.38-2.61 0 0 3.73-.3 7.6 3.82 3.28 3.41 3.42 8.17 3.42 8.17.01 5.6-3.86 7.63-7.27 9.95-30.92 11.6-56.86 30.63-80.31 51.95z" />
  <text x="82" y="100" class="label" text-anchor="middle">Current Streak</text>
  <text x="82" y="130" class="value" text-anchor="middle">${currentStreak}</text>
  <text x="82" y="155" class="dates" text-anchor="middle">days</text>
  
  <!-- Column 2: Longest Streak - Gold medal icon (famous for achievements) -->
  <path class="icon" transform="translate(247, 45) scale(0.05)" d="M256 0C370.7 0 464 93.3 464 208c0 103.88-76.09 198.57-186.57 222.23a94.18 94.18 0 0 1-90.86 0C76.09 406.57 0 311.88 0 208 0 93.3 93.3 0 208 0h48zm0 128c-53.02 0-96 42.98-96 96s42.98 96 96 96c53.02 0 96-42.98 96-96s-42.98-96-96-96zm0 0c17.67 0 32 14.33 32 32s-14.33 32-32 32-32-14.33-32-32 14.33-32 32-32zm-48-16h96c8.84 0 16 7.16 16 16v16c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-16c0-8.84 7.16-16 16-16zm-30.59 304l-12.8-12.8c-6.25-6.25-6.25-16.38 0-22.63L384 160.98c6.25-6.25 16.38-6.25 22.63 0l12.8 12.8c6.25 6.25 6.25 16.38 0 22.63L199.03 416c-6.25 6.25-16.38 6.25-22.63 0z M402.45 288a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-156.45 0a8 8 0 0 0 0 16 8 8 0 0 0 0-16z" />
  <text x="247" y="100" class="label" text-anchor="middle">Longest Streak</text>
  <text x="247" y="130" class="value" text-anchor="middle">${longestStreak}</text>
  <text x="247" y="155" class="dates" text-anchor="middle">days</text>
  
  <!-- Column 3: Total Contributions - GitHub contribution graph icon -->
  <path class="icon" transform="translate(390, 60) scale(0.05)" d="M180.1 77.83a15.42 15.42 0 1 1-15.42-15.41 15.42 15.42 0 0 1 15.42 15.41zM164.67 0a16 16 0 0 0-16 16v16a16 16 0 0 0 32 0V16a16 16 0 0 0-16-16zm100.17 84.1a16 16 0 0 0-22.62-1.18l-11.32 9.92a16 16 0 0 0 20.44 24.61l12.25-10.74a16 16 0 0 0 1.25-23.61zM96.79 93.25a16 16.36 0 0 0-22.62 0L64.55 104a16 16 0 0 0 21.6 23.61l10.17-9a16 16 0 0 0 .47-25.33zM38.5 160.67H16.34a16 16 0 0 0 0 32H38.5a16 16 0 0 0 0-32zm265.53 16.5h-23.1a16 16 0 0 0 0 32h23.1a16 16 0 0 0 0-32zM84.74 270.92l-9.07-10.4a16 16 0 0 0-24.1 21l9.06 10.39a16 16 0 0 0 24.11-21zm170.2-.62a16 16 0 0 0-22.5 2.33l-10.14 12.06a16 16 0 0 0 24.38 20.72l10.39-12.35a16 16 0 0 0-2.13-22.76zM164.67 288a16 16 0 0 0-16 16v16a16 16 0 0 0 32 0v-16a16 16 0 0 0-16-16z M83.71 204.69a16 16 0 0 0-16 16 16 16 0 0 0 16 16 16 16 0 0 0 16-16 16 16 0 0 0-16-16zm81.96-63.69a34.69 34.69 0 1 0-34.69 34.69 34.68 34.68 0 0 0 34.69-34.69zm80.8 63.69a16 16 0 0 0-16 16 16 16 0 0 0 16 16 16 16 0 0 0 16-16 16 16 0 0 0-16-16zm-40.4 42.4a16 16 0 0 0-16 16 16 16 0 0 0 16 16 16 16 0 0 0 16-16 16 16 0 0 0-16-16zm-80.8 0a16 16 0 0 0-16 16 16 16 0 0 0 16 16 16 16 0 0 0 16-16 16 16 0 0 0-16-16z" />
  <text x="412" y="100" class="label" text-anchor="middle">Total</text>
  <text x="412" y="130" class="value" text-anchor="middle">${totalContributions}</text>
  <text x="412" y="155" class="dates" text-anchor="middle">contributions</text>
</svg>
  `;
}
